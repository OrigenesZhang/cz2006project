package sg.edu.ntu.e.fang0074.ipet.controllers;

import android.content.Intent;
import android.os.Build;
import android.os.Bundle;
import android.support.annotation.RequiresApi;
import android.support.design.widget.FloatingActionButton;
import android.support.v7.app.AppCompatActivity;
import android.view.View;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.TextView;

import butterknife.BindView;
import butterknife.ButterKnife;
import sg.edu.ntu.e.fang0074.ipet.R;
import sg.edu.ntu.e.fang0074.ipet.models.DataBase;
import sg.edu.ntu.e.fang0074.ipet.models.*;

public class Profile extends AppCompatActivity {
    @BindView(R.id.pet_name) TextView mName;
    @BindView(R.id.birthday) TextView mBirthday;
    @BindView(R.id.gender_image) ImageView genderImage;
    @BindView(R.id.pet_owner) TextView ownerName;
    @BindView(R.id.medicineTab) Button medicineTab;
    @BindView(R.id.hygieneTab) Button hygieneTab;
    @BindView(R.id.exerciseTab) Button exerciseTab;

    Pet pet;
    @RequiresApi(api = Build.VERSION_CODES.O)
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_reminders);
        ButterKnife.bind(this);

        pet = DataBase.getPet();
        mName.setText(pet.getName());
        mBirthday.setText(pet.getBirthday());

        if (pet.isMale())
            genderImage.setImageResource(R.drawable.icon_male);
        else
            genderImage.setImageResource(R.drawable.icon_female);
        ownerName.setText(pet.getOwner());

        medicineTab.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                int page = 0;
                Intent i = new Intent(Profile.this, RemindersMainTab.class);
                i.putExtra("Page", page);
                startActivity(i);
            }
        });

        hygieneTab.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                int page = 1;
                Intent i = new Intent(Profile.this, RemindersMainTab.class);
                i.putExtra("Page", page);
                startActivity(i);
            }
        });

        exerciseTab.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                int page = 2;
                Intent i = new Intent(Profile.this, RemindersMainTab.class);
                i.putExtra("Page", page);
                startActivity(i);
            }
        });

        FloatingActionButton myFab = (FloatingActionButton) this.findViewById(R.id.main_fab);
        myFab.setOnClickListener(new View.OnClickListener() {
            public void onClick(View v) {
                Intent i = new Intent(Profile.this, EditProfile.class);
                i.putExtra("petObj", pet);
                startActivity(i);
            }
        });
    }
}
